<script>
  function generateCode() {
    const btn = document.getElementById("generateBtn");
    btn.disabled = true;
    btn.innerHTML = 'Loading... <div class="spinner"></div>';

    // লোকাল স্টোরেজে ভেরিফাই স্টেট সেট করো
    localStorage.setItem("showVerify", "true");

    setTimeout(() => {
      // Redirect to Play Store
      window.location.href = "https://play.google.com/store/apps/details?id=com.mnyplnt.app&referrer=53960";
    }, 2000);
  }

  function verifyCode() {
    const btn = document.getElementById("verifyBtn");
    btn.disabled = true;
    btn.innerHTML = 'Verifying... <div class="spinner"></div>';

    setTimeout(() => {
      document.getElementById("codeSection").style.display = "block";
      document.getElementById("codeBox").innerText = generateRandomCode();
      btn.innerHTML = "Verify";
      btn.disabled = false;
    }, 2000);
  }

  function generateRandomCode() {
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let code = "";
    for (let i = 0; i < 12; i++) {
      if (i > 0 && i % 4 === 0) code += "-";
      code += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return code;
  }

  function copyCode() {
    const code = document.getElementById("codeBox").innerText;
    navigator.clipboard.writeText(code).then(() => {
      alert("Code copied to clipboard!");
    });
  }

  // ✅ পেজ লোড হলে লোকাল স্টোরেজ চেক করো
  window.onload = () => {
    const showVerify = localStorage.getItem("showVerify");
    if (showVerify === "true") {
      document.getElementById("generateBtn").style.display = "none";
      document.getElementById("verifyBtn").style.display = "inline-block";
    }
  };
    </script>
    
